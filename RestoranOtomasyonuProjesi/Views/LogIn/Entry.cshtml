@using EntityLayer.Concrete

@{
    ViewBag.Title = "Entry";
    List<Category> categories = ViewBag.categories;
    List<Product> products = ViewBag.products;
    Layout = "~/Views/Shared/_LogInLayout.cshtml";
}

<div class="row">
    <div class="col"></div>
    <div class="justify-content-center col-lg-6 col-md-8">
        <br />
        @foreach (var category in categories)
        {
            if (category.Status)
            {
                <h4 class="text-center">@category.CategoryName</h4>
                <table class="table">
                    <thead>
                        <tr>
                            <th>Ürün Adı</th>
                            <th class="text-center">Ürün Açıklaması</th>
                            <th class="text-end">Fiyatı</th>
                        </tr>
                    </thead>
                    <tbody>
                        @foreach (var product in products)
                        {
                            if (product.CategoryID == category.CategoryID && product.Status)
                            {
                                <tr>
                                    <td class="text-start col-4">@product.Name</td>
                                    <td class="text-center col-4 description">@product.Description</td>
                                    <td class="text-end col-4">@product.Price TL</td>
                                </tr>
                            }
                        }
                    </tbody>
                </table>
                <br />
            }
        }
    </div>
    <div class="col"></div>
</div>
<style type="text/css">
    .description {
        max-width: 210px;
        overflow: hidden; /* taşacak kısımları gizle. */
        white-space: nowrap; /* alt satırı gösterme, alt satıra inme. */
        text-overflow: ellipsis; /* uzunsa sonuna üç nokta koy. */
    }
</style>
@section button{
    <a class="float-end" href="@Url.Action("LogIn", "LogIn")">
        <i class="fas fa-sign-in-alt me-2"></i>
        Giriş Yap
    </a>
}